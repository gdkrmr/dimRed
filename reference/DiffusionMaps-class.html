<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="An S4 Class implementing Diffusion Maps"><title>Diffusion Maps — DiffusionMaps-class • dimRed</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Diffusion Maps — DiffusionMaps-class"><meta property="og:description" content="An S4 Class implementing Diffusion Maps"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dimRed</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gdkrmr/dimRed/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Diffusion Maps</h1>
      <small class="dont-index">Source: <a href="https://github.com/gdkrmr/dimRed/blob/HEAD/R/diffmap.R" class="external-link"><code>R/diffmap.R</code></a></small>
      <div class="d-none name"><code>DiffusionMaps-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An S4 Class implementing Diffusion Maps</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Diffusion Maps uses a diffusion probability matrix to robustly
approximate a manifold.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>
    

<dl><dt><code>fun</code></dt>
<dd><p>A function that does the embedding and returns a
dimRedResult object.</p></dd>


<dt><code>stdpars</code></dt>
<dd><p>The standard parameters for the function.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="general-usage">General usage<a class="anchor" aria-label="anchor" href="#general-usage"></a></h2>
    

<p>Dimensionality reduction methods are S4 Classes that either be used
directly, in which case they have to be initialized and a full
list with parameters has to be handed to the <code>@fun()</code>
slot, or the method name be passed to the embed function and
parameters can be given to the <code>...</code>, in which case
missing parameters will be replaced by the ones in the
<code>@stdpars</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a></h2>
    

<p>Diffusion Maps can take the following parameters:</p><dl><dt>d</dt>
<dd><p>a function transforming a matrix row wise into a
    distance matrix or <code>dist</code> object,
    e.g. <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code>.</p></dd>

  <dt>ndim</dt>
<dd><p>The number of dimensions</p></dd>

  <dt>eps</dt>
<dd><p>The epsilon parameter that determines the
     diffusion weight matrix from a distance matrix <code>d</code>,
     \(exp(-d^2/eps)\), if set to <code>"auto"</code> it will
     be set to the median distance to the 0.01*n nearest
     neighbor.</p></dd>

  <dt>t</dt>
<dd><p>Time-scale parameter. The recommended value, 0,
     uses multiscale geometry.</p></dd>

  <dt>delta</dt>
<dd><p>Sparsity cut-off for the symmetric graph Laplacian,
    a higher value results in more sparsity and faster calculation.
    The predefined value is 10^-5.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="implementation">Implementation<a class="anchor" aria-label="anchor" href="#implementation"></a></h2>
    

<p>Wraps around <code><a href="https://rdrr.io/pkg/diffusionMap/man/diffuse.html" class="external-link">diffuse</a></code>, see there for
details. It uses the notation of Richards et al. (2009) which is
slightly different from the one in the original paper (Coifman and
Lafon, 2006) and there is no \(\alpha\) parameter.
There is also an out-of-sample extension, see examples.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Richards, J.W., Freeman, P.E., Lee, A.B., Schafer,
    C.M., 2009. Exploiting Low-Dimensional Structure in
    Astronomical Spectra. ApJ 691,
    32. doi:10.1088/0004-637X/691/1/32</p>
<p>Coifman, R.R., Lafon, S., 2006. Diffusion maps. Applied and
    Computational Harmonic Analysis 21,
    5-30. doi:10.1016/j.acha.2006.04.006</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other dimensionality reduction methods: 
<code><a href="AutoEncoder-class.html">AutoEncoder-class</a></code>,
<code><a href="DRR-class.html">DRR-class</a></code>,
<code><a href="DrL-class.html">DrL-class</a></code>,
<code><a href="FastICA-class.html">FastICA-class</a></code>,
<code><a href="FruchtermanReingold-class.html">FruchtermanReingold-class</a></code>,
<code><a href="HLLE-class.html">HLLE-class</a></code>,
<code><a href="Isomap-class.html">Isomap-class</a></code>,
<code><a href="KamadaKawai-class.html">KamadaKawai-class</a></code>,
<code><a href="MDS-class.html">MDS-class</a></code>,
<code><a href="NNMF-class.html">NNMF-class</a></code>,
<code><a href="PCA-class.html">PCA-class</a></code>,
<code><a href="PCA_L1-class.html">PCA_L1-class</a></code>,
<code><a href="UMAP-class.html">UMAP-class</a></code>,
<code><a href="dimRedMethod-class.html">dimRedMethod-class</a></code>,
<code><a href="dimRedMethodList.html">dimRedMethodList</a>()</code>,
<code><a href="kPCA-class.html">kPCA-class</a></code>,
<code><a href="nMDS-class.html">nMDS-class</a></code>,
<code><a href="tSNE-class.html">tSNE-class</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"diffusionMap"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataSets.html">loadDataSet</a></span><span class="op">(</span><span class="st">"3D S Curve"</span>, n <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">emb</span> <span class="op">&lt;-</span> <span class="fu"><a href="embed.html">embed</a></span><span class="op">(</span><span class="va">dat</span>, <span class="st">"DiffusionMaps"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">emb</span>, type <span class="op">=</span> <span class="st">"2vars"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># predicting is possible:</span></span></span>
<span class="r-in"><span><span class="va">samp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">/</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">emb2</span> <span class="op">&lt;-</span> <span class="fu"><a href="embed.html">embed</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span><span class="va">samp</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">emb3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">emb2</span>, <span class="va">dat</span><span class="op">[</span><span class="op">-</span><span class="va">samp</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">emb2</span>, type <span class="op">=</span> <span class="st">"2vars"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="fu"><a href="getData.html">getData</a></span><span class="op">(</span><span class="va">emb3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Performing eigendecomposition</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing Diffusion Coordinates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Elapsed time: 0.169 seconds</span>
<span class="r-plt img"><img src="DiffusionMaps-class-1.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="DiffusionMaps-class-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.guido-kraemer.com" class="external-link">Guido Kraemer</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6. <a href="https://www.guido-kraemer.com/terms/" class="external-link">Impressum</a></p>
</div>

    </footer></div>

  

  

  </body></html>

